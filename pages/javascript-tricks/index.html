<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>javascript-tricks</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css" integrity="sha512-EZLkOqwILORob+p0BXZc+Vm3RgJBOe1Iq/0fiI7r/wJgzOFZMlsqTa29UEl6v6U6gsV4uIpsNZoV32YZqrCRCQ==" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/stackoverflow-light.min.css" integrity="sha512-cG1IdFxqipi3gqLmksLtuk13C+hBa57a6zpWxMeoY3Q9O6ooFxq50DayCdm0QrDgZjMUn23z/0PMZlgft7Yp5Q==" crossorigin="anonymous"/>
        <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../../preview.css">
    <link rel="shortcut icon" href="../../favicon.ico">
  </head>
  <body>
    <div class="container">

      <div>
        <ul>
          <li><a href="../../">Back to HOME</a></li>
        </ul>
      </div>

      <div id="app"></div>

      <div class="injected-readme">
      <!-- inject:readme:md -->
      <h1 id="javascript-tricks--jugards">Javascript Tricks &amp; Jugards</h1>
<h2 id="executing-js-code-genrated-at-runtime">Executing JS Code genrated at runtime</h2>
<p>This rarely used pattern is known as function constructor:</p>
<div class="demo-container">
  <iframe src="../../vendor/demoit/index.html?state=../../pages/javascript-tricks/function-constructor.json" style="width:100%; height:300px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>
</div>

<h2 id="cloningextending-objects">Cloning/Extending objects</h2>
<p>A naive implementation:</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span>(<span class="hljs-params">source, destination</span>) </span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> attr <span class="hljs-keyword">in</span> source.prototype){ destination.prototype[attr] = source.prototype[attr];}
}
</code></pre>
<p>A little robust:</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extend</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">1</span>; i&lt;<span class="hljs-built_in">arguments</span>.length; i++)
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> <span class="hljs-built_in">arguments</span>[i])
            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">arguments</span>[i].hasOwnProperty(key))
                <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>][key] = <span class="hljs-built_in">arguments</span>[i][key];
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];
}
</code></pre>
<p>Extend as in Typescript:</p>
<pre><code><span class="hljs-keyword">let</span> __extends = <span class="hljs-built_in">this</span>.__extends || <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">d, b</span>) </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> p <span class="hljs-keyword">in</span> b) <span class="hljs-keyword">if</span> (b.hasOwnProperty(p)) d[p] = b[p];
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-built_in">this</span>.constructor = d; }
  __.prototype = b.prototype;
  d.prototype = <span class="hljs-keyword">new</span> __();
};
</code></pre>
<p>Usage:</p>
<pre><code>
</code></pre>
<p>Spread operator:</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span>(<span class="hljs-params">source, destination</span>) </span>{
  <span class="hljs-keyword">return</span> {...source, ...destination };
}
</code></pre>
<p>Object.assing</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extend</span>(<span class="hljs-params">source, destination</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.assing({}, source, destination);
}
</code></pre>
<p>The jQuery library provides a function called extend which implements prototype inheritance in a robust fashion. It is about 50 lines long and deals with deep copies and null values. The underscore library porovides a similar implimentation.</p>
<h2 id="interface-or-an-abstract-class-in-javascript">Interface or an Abstract class in Javascript</h2>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IInterfaceName</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">this</span>.constructor.name === <span class="hljs-string">&#x27;IInterfaceName&#x27;</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&#x27;IInterfaceName is designed to be abstract!&#x27;</span>);
    }
  }

  <span class="hljs-function"><span class="hljs-title">requiredFunction</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&#x27;requiredFunction needs to be implemented&#x27;</span>);
  }
}
</code></pre>
<p>VSCode Snippet code:</p>
<pre><code>    <span class="hljs-string">&quot;abstract class&quot;</span>: {
        <span class="hljs-string">&quot;prefix&quot;</span>: <span class="hljs-string">&quot;abs-js&quot;</span>,
        <span class="hljs-string">&quot;body&quot;</span>: [
            <span class="hljs-string">&quot;class ${1:AbstractClassName} {&quot;</span>,
            <span class="hljs-string">&quot;  constructor() {&quot;</span>,
            <span class="hljs-string">&quot;    if(this.constructor.name === &#x27;${1:AbstractClassName}&#x27;) {&quot;</span>,
            <span class="hljs-string">&quot;      throw new Error(&#x27;${1:AbstractClassName} is designed to be abstract!&#x27;);&quot;</span>,
            <span class="hljs-string">&quot;    }&quot;</span>,
            <span class="hljs-string">&quot;  }&quot;</span>,
            <span class="hljs-string">&quot;}&quot;</span>
        ],
        <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;Abstract class in Javascript&quot;</span>
    },
</code></pre>
<h2 id="extend-error-class">Extend Error class</h2>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SpecialError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Error</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name</span>)</span> {
    <span class="hljs-keyword">let</span> msg = <span class="hljs-string">`<span class="hljs-subst">${name}</span> some special error message here.`</span>
    <span class="hljs-built_in">super</span>(msg);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Error</span>.captureStackTrace) {
      <span class="hljs-built_in">Error</span>.captureStackTrace(<span class="hljs-built_in">this</span>, SpecialError);
    }
  }
}

<span class="hljs-comment">//usage:</span>
<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> SpecialError(<span class="hljs-string">&#x27;test&#x27;</span>);
</code></pre>
<h2 id="simple-enum-in-javascript">Simple Enum in Javascript</h2>
<pre><code><span class="hljs-keyword">let</span> enumSize = <span class="hljs-built_in">Object</span>.freeze({
  <span class="hljs-attr">large</span>: <span class="hljs-string">&quot;large&quot;</span>,
  <span class="hljs-attr">medium</span>: <span class="hljs-string">&quot;medium&quot;</span>,
  <span class="hljs-attr">small</span>: <span class="hljs-string">&quot;small&quot;</span>
});

<span class="hljs-comment">//usage</span>
<span class="hljs-built_in">console</span>.log(enumSize.large);
</code></pre>

      <!-- endinject -->
      </div>

    </div>
    <script type="module" defer src="script.js"></script>
  </body>
</html>
